{% extends "base.html" %}

{% block content %}
<h1>ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®ç·¨é›†</h1>

<!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º -->
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}
<div class="flash {{ category }}">{{ message }}</div>
{% endfor %}
{% endif %}
{% endwith %}

<!-- ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ  -->
<form method="POST">
    <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼å -->
    <label>ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼š</label><br>
    <input type="text" name="username" value="{{ user.username }}" required><br><br>

    <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ -->
    <label>æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆå¤‰æ›´ã™ã‚‹å ´åˆã®ã¿ï¼‰ï¼š</label><br>
    <input type="password" name="password"><br><br>

    <!-- æ¨©é™ -->
    <label>æ¨©é™ï¼š</label><br>
    <select name="is_admin" required>
        <option value="0" {% if not user.is_admin %}selected{% endif %}>ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼</option>
        <option value="1" {% if user.is_admin %}selected{% endif %}>ç®¡ç†è€…</option>
    </select><br><br>

    <!-- ãƒœã‚¿ãƒ³ -->
    <div class="button-group">
        <button type="submit" class="class_button_register">æ›´æ–°ã™ã‚‹</button>
        <a href="{{ url_for('manage_users') }}" class="class_button_a"><button type="button">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button></a>
    </div>
</form>

<!-- ğŸ”» å‰Šé™¤å°‚ç”¨ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆPOSTé€ä¿¡ï¼‰ -->
<form method="POST" action="{{ url_for('delete_user', user_id=user.id) }}" onsubmit="return confirm('âš ï¸ æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');">
    <button type="submit" style="margin-top: 10px; color: red;">å‰Šé™¤</button>
</form>

{% endblock %}